{"filter":false,"title":"MessageBoard.js","tooltip":"/2-labbymezzage/js/MessageBoard.js","undoManager":{"mark":0,"position":0,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":155,"column":34},"action":"remove","lines":["\"use strict\";","","var MessageBoard = {","    ","    messages: [],","    ","    init: function(){","        var textMessage;","        var sendMessage;","","        MessageBoard.count();","                        ","        //Referens till textmeddelandet","        textMessage = document.getElementById(\"messagearea\");","        ","        ","        textMessage.focus();","","        //Referens till submit-knappen","        sendMessage = document.getElementById(\"sendmessage\");","        ","        ","        //FUNGERAR ICKE","        textMessage.addEventListener(\"keypress\", function(e){","            if(!e){","                e = window.event;","            }","            ","            if(e.keyCode == 13 && !e.shiftKey){","                console.log(\"enter pressed\");","                e.preventDefault();","                MessageBoard.createMessage();","            }","        });","        ","        sendMessage.addEventListener(\"click\", MessageBoard.createMessage);","    },","    ","    createMessage: function(){","        //Skapa nytt meddelande","        var text;","        var newMessage;","        ","        text = document.getElementById(\"messagearea\").value;","        ","        //Är fältet tomt så händer ingenting","        if(text === \"\"){","            return false;","        }","        ","        newMessage = new Message(text, new Date());","        ","        MessageBoard.messages.push(newMessage);","        MessageBoard.renderMessages();","        ","        text = \"\";","    },","    ","    renderMessage: function(messageID){","        //Skriv ut ETT meddelande","        var viewmessages;","        var imgClock;","        var aClock;","        var imgRemove;","        var aRemove;","        var messageText;","        var spanTime;","        var time;","        var hr;","        ","        MessageBoard.count();","        viewmessages = document.getElementById(\"viewmessages\");","        ","trimgClock.ibute(\"srcs[m\", \"mg/clock1.png\");","        imgClock = document.createElement(\"isimg\");","    etAt//Tidknapp","                imgClock.setAttribute(\"alt\", \"Time\");","        ","        aClock = document.createElement(\"a\");","        aClock.setAttribute(\"href\", \"#\");","        aClock.2setAttribute(\"class\", \"right\")",";22222+++","               appendChildiaClockmgRe","        aClock.addEventListener(\"click\", function(){","            alert(MessageBoard.messages[messageID].getDateText());","        }bo  rt kna);","   (imgClock);mo.ve = document.createElement(\"img\");","         pp     ","   e","    2mTaov /e/.setAttribute(\"src\", \"img/remove1.png\");","1        imgRemove.setAttribute(\"alt\", \"delete\");","        ","        aRemove = document.createElement(\"a\");","        aRemove.setAttribute(\"href\", \"#\");","        aRemove.setAttribute(\"class\", \"right\");","        aRemove.appendChild(imgRemove);","        ","        aRemove.addEventListener(\"click\",function(){","            if(confirm(\"Are you sure you want to delete this message?\")){","                MessageBoard.deleteMessage(messageID);","            }","            else{","                ","            }","        });","        ","    //Meddelandetext","        messageText = document.createElement(\"p\");","        messageText.innerHTML = MessageBoard.message3essageID].getHTMLText();","        ","    //Tidsstämpel","        var ourTime = new Date();","        spanTime = document.createElement(\"span\");","        time = ourTime.toLocaleTimeString();","        spanTime.innerHTML = time;","        ","    //HR-tagg","        hr = document.createElement(\"hr\");","        ","        viewmessages.appendChild(aClock);","        viewmessages.appendChild(aRemove);","        viewmessages.appendChild(messageText);","        viewmessages.appendChild(spanTime);","        viewmessages.appendChild(hr);","        ","    },","    ","    renderMessages: function(){","        //Skriv ut ALLA meddelanden","        ","        document.getElementById(\"viewmessages\").innerHTML = \"\";","        for(var i = 0; i <= MessageBoard.messages.length; i++){","            MessageBoard.renderMessage(i);","        };","        ","        //Rensar från tidigare utskrifter","        document.form.messagearea.value = \"\";","    },","    ","    deleteMessage: function(messageID){","        //Radera meddelande","        MessageBoard.messages.splice(messageID, 1);","        MessageBoard.count();","        MessageBoard.renderMessages();","        //console.log(\"Deleted message \" + messageID.innerHTML);","    },","    ","    count: function(){","        //Räknar antal meddelande","        ","        var count = document.getElementById(\"count\");","        count.innerHTML = \"Messages: \" + MessageBoard.messages.length;","    },","","};","window.onload = MessageBoard.init;"]},{"start":{"row":0,"column":0},"end":{"row":155,"column":34},"action":"insert","lines":["\"use strict\";","","var MessageBoard = {","    ","    messages: [],","    ","    init: function(){","        var textMessage;","        var sendMessage;","","        MessageBoard.count();","                        ","        //Referens till textmeddelandet","        textMessage = document.getElementById(\"messagearea\");","        ","        ","        textMessage.focus();","","        //Referens till submit-knappen","        sendMessage = document.getElementById(\"sendmessage\");","        ","        ","        //FUNGERAR ICKE","        textMessage.addEventListener(\"keypress\", function(e){","            if(!e){","                e = window.event;","            }","            ","            if(e.keyCode == 13 && !e.shiftKey){","                console.log(\"enter pressed\");","                e.preventDefault();","                MessageBoard.createMessage();","            }","        });","        ","        sendMessage.addEventListener(\"click\", MessageBoard.createMessage);","    },","    ","    createMessage: function(){","        //Skapa nytt meddelande","        var text;","        var newMessage;","        ","        text = document.getElementById(\"messagearea\").value;","        ","        //Är fältet tomt så händer ingenting","        if(text === \"\"){","            return false;","        }","        ","        newMessage = new Message(text, new Date());","        ","        MessageBoard.messages.push(newMessage);","        MessageBoard.renderMessages();","        ","        text = \"\";","    },","    ","    renderMessage: function(messageID){","        //Skriv ut ETT meddelande","        var viewmessages;","        var imgClock;","        var aClock;","        var imgRemove;","        var aRemove;","        var messageText;","        var spanTime;","        var time;","        var hr;","        ","        MessageBoard.count();","        viewmessages = document.getElementById(\"viewmessages\");","        ","    //Tidknapp","        imgClock = document.createElement(\"img\");","        imgClock.setAttribute(\"src\", \"img/clock1.png\");","        imgClock.setAttribute(\"alt\", \"Time\");","        ","        aClock = document.createElement(\"a\");","        aClock.setAttribute(\"href\", \"#\");","        aClock.setAttribute(\"class\", \"right\");","        aClock.appendChild(imgClock);","        ","        aClock.addEventListener(\"click\", function(){","            alert(MessageBoard.messages[messageID].getDateText());","        });","        ","    //Ta bort knapp","        imgRemove = document.createElement(\"img\");","        imgRemove.setAttribute(\"src\", \"img/remove1.png\");","        imgRemove.setAttribute(\"alt\", \"delete\");","        ","        aRemove = document.createElement(\"a\");","        aRemove.setAttribute(\"href\", \"#\");","        aRemove.setAttribute(\"class\", \"right\");","        aRemove.appendChild(imgRemove);","        ","        aRemove.addEventListener(\"click\",function(){","            if(confirm(\"Are you sure you want to delete this message?\")){","                MessageBoard.deleteMessage(messageID);","            }","            else{","                ","            }","        });","        ","    //Meddelandetext","        messageText = document.createElement(\"p\");","        messageText.innerHTML = MessageBoard.messages[messageID].getHTMLText();","        ","    //Tidsstämpel","        var ourTime = new Date();","        spanTime = document.createElement(\"span\");","        time = ourTime.toLocaleTimeString();","        spanTime.innerHTML = time;","        ","    //HR-tagg","        hr = document.createElement(\"hr\");","        ","        viewmessages.appendChild(aClock);","        viewmessages.appendChild(aRemove);","        viewmessages.appendChild(messageText);","        viewmessages.appendChild(spanTime);","        viewmessages.appendChild(hr);","        ","    },","    ","    renderMessages: function(){","        //Skriv ut ALLA meddelanden","        ","        document.getElementById(\"viewmessages\").innerHTML = \"\";","        for(var i = 0; i <= MessageBoard.messages.length; i++){","            MessageBoard.renderMessage(i);","        };","        ","        //Rensar från tidigare utskrifter","        document.form.messagearea.value = \"\";","    },","    ","    deleteMessage: function(messageID){","        //Radera meddelande","        MessageBoard.messages.splice(messageID, 1);","        MessageBoard.count();","        MessageBoard.renderMessages();","        //console.log(\"Deleted message \" + messageID.innerHTML);","    },","    ","    count: function(){","        //Räknar antal meddelande","        ","        var count = document.getElementById(\"count\");","        count.innerHTML = \"Messages: \" + MessageBoard.messages.length;","    },","","};","window.onload = MessageBoard.init;"]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":28,"column":45},"end":{"row":28,"column":45},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1416847517083,"hash":"4e041df743ec7be1dc47a0a7ad4c588f02adaa70"}